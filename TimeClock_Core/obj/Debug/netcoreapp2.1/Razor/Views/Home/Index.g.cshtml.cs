#pragma checksum "C:\Users\Andrew\source\repos\TimeClock_Core\TimeClock_Core\Views\Home\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "7cc179e8a236864a15b4a654e8de3ee6d1294ed1"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Home_Index), @"mvc.1.0.view", @"/Views/Home/Index.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Home/Index.cshtml", typeof(AspNetCore.Views_Home_Index))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "C:\Users\Andrew\source\repos\TimeClock_Core\TimeClock_Core\Views\_ViewImports.cshtml"
using TimeClock_Core;

#line default
#line hidden
#line 2 "C:\Users\Andrew\source\repos\TimeClock_Core\TimeClock_Core\Views\_ViewImports.cshtml"
using TimeClock_Core.Models;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"7cc179e8a236864a15b4a654e8de3ee6d1294ed1", @"/Views/Home/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"de330e40f8c1fdb39e9db32c5b25f52317c59659", @"/Views/_ViewImports.cshtml")]
    public class Views_Home_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<LoginForm>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#line 2 "C:\Users\Andrew\source\repos\TimeClock_Core\TimeClock_Core\Views\Home\Index.cshtml"
  
    ViewData["Title"] = "Home Page";

#line default
#line hidden
            BeginContext(63, 198, true);
            WriteLiteral("<div class=\"row\" style=\"min-height:500px; align-items:center;\">\r\n    <div class=\"col-md-12\">\r\n        <div class=\"form-horizontal\">\r\n            <!--Default to login of account for form submit.-->\r\n");
            EndContext();
#line 9 "C:\Users\Andrew\source\repos\TimeClock_Core\TimeClock_Core\Views\Home\Index.cshtml"
             using (Html.BeginForm("Login", "Account", FormMethod.Post, new { id = "form" }))
            {

#line default
#line hidden
            BeginContext(371, 595, true);
            WriteLiteral(@"                <div class=""form-group"">
                    <div class=""row justify-content-center"">
                        <div class=""col-md-4 form-inline justify-content-center"" style=""min-height:25px;"">
                            <text class=""font-weight-bold"" id=""userTitle""></text>
                        </div>
                    </div>
                </div>
                <div class=""form-group"">
                    <div class=""row  justify-content-center"">
                        <div class=""col-md-4 form-inline justify-content-center"">
                            ");
            EndContext();
            BeginContext(967, 120, false);
#line 21 "C:\Users\Andrew\source\repos\TimeClock_Core\TimeClock_Core\Views\Home\Index.cshtml"
                       Write(Html.TextBoxFor(model => Model.Username, new { @class = "form-control", placeholder = "Username...", @id = "username" }));

#line default
#line hidden
            EndContext();
            BeginContext(1087, 30, true);
            WriteLiteral("\r\n                            ");
            EndContext();
            BeginContext(1118, 86, false);
#line 22 "C:\Users\Andrew\source\repos\TimeClock_Core\TimeClock_Core\Views\Home\Index.cshtml"
                       Write(Html.ValidationMessageFor(model => Model.Username, "", new { @class = "text-danger" }));

#line default
#line hidden
            EndContext();
            BeginContext(1204, 301, true);
            WriteLiteral(@"
                        </div>
                    </div>
                </div>
                <div class=""form-group"">
                    <div class=""row justify-content-center"">
                        <div class=""col-md-4 form-inline justify-content-center"">
                            ");
            EndContext();
            BeginContext(1506, 121, false);
#line 29 "C:\Users\Andrew\source\repos\TimeClock_Core\TimeClock_Core\Views\Home\Index.cshtml"
                       Write(Html.PasswordFor(model => Model.Password, new { @class = "form-control", placeholder = "Password...", @id = "password" }));

#line default
#line hidden
            EndContext();
            BeginContext(1627, 30, true);
            WriteLiteral("\r\n                            ");
            EndContext();
            BeginContext(1658, 86, false);
#line 30 "C:\Users\Andrew\source\repos\TimeClock_Core\TimeClock_Core\Views\Home\Index.cshtml"
                       Write(Html.ValidationMessageFor(model => Model.Password, "", new { @class = "text-danger" }));

#line default
#line hidden
            EndContext();
            BeginContext(1744, 804, true);
            WriteLiteral(@"
                        </div>
                    </div>
                </div>
                <div class=""form-group"">
                    <div class=""row"">
                        <div class=""col-md-2 offset-md-4 form-inline justify-content-center"">
                            <!--Change ClockIn to button in order to not trigger form but run jQuery instead-->
                            <input tabindex=""1"" id=""clockInBtn"" type=""button"" class=""btn btn-warning"" value=""Clock In"" />
                        </div>

                        <div class=""col-md-2 form-inline justify-content-center"">
                            <input id=""loginBtn"" type=""button"" class=""btn btn-success"" value=""Login"" />
                        </div>
                    </div>
                </div>
");
            EndContext();
#line 46 "C:\Users\Andrew\source\repos\TimeClock_Core\TimeClock_Core\Views\Home\Index.cshtml"
            }

#line default
#line hidden
            BeginContext(2563, 1581, true);
            WriteLiteral(@"        </div>
    </div>
</div>
<div id=""statusModal"" class=""modal"" tabindex=""-1"">
    <div class=""modal-dialog"">
        <div id=""modalContent"" class=""modal-content"">
            <div class=""modal-header"">
                <h5 id=""modalTitle""></h5>
                <button id=""modalCloseBtn"" type=""button"" class=""close"" data-dismiss=""modal"">
                    <span aria-hidden=""true"">&times;</span>
                </button>
            </div>
            <div class=""modal-body"">
                <p id=""modalBody""></p>
                <table id=""timeEntryTable"" class=""table"">
                    <thead>
                        <tr>
                            <th>Time In</th>
                            <th>Time Out</th>
                        </tr>
                    </thead>
                    <tbody id=""timeEntryBody""></tbody>
                </table>
            </div>
            <div class=""modal-body"">
                <div class=""row"">
                    <div align=""center""");
            WriteLiteral(@" class=""col-md-2 col-lg-2 col-sm-2 offset-5"">
                        <button id=""modalCancelBtn"" type=""button"" class=""btn btn-danger"" data-dismiss=""modal"">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    var data;
    var screenResetTimeout;
    $(document).ready(function () {
        //When the page loads, auto focus to the main input.
        $(""#username"").focus();

        var getUserTitle = function () {
            $.ajax({
                url: '");
            EndContext();
            BeginContext(4145, 37, false);
#line 91 "C:\Users\Andrew\source\repos\TimeClock_Core\TimeClock_Core\Views\Home\Index.cshtml"
                 Write(Url.Action("GetUserTitle", "Account"));

#line default
#line hidden
            EndContext();
            BeginContext(4182, 2786, true);
            WriteLiteral(@"',
                data: {
                    username: $(""#username"").val()
                },
                context: document.getElementById(""userTitle"")
            }).done(function (data) {
                $('#userTitle').removeClass('text-danger');
                $('#userTitle').removeClass('text-secondary');

                var titleText = data.trim();

                $(this).text(titleText);
                if (titleText == ""User not found"") {
                    $('#userTitle').addClass('text-danger');
                }
                else if (titleText == ""Instructor"") {
                    $(""#userTitle"").addClass('text-instructor');
                }
                else {
                    $('#userTitle').addClass('text-secondary');
                }

                var button = $(""#clockInBtn"");
                button.show();
                if (data.endsWith("" "")) {
                    button.removeClass(""btn-warning"");
                    button.addClass(""btn");
            WriteLiteral(@"-danger"");
                    button.val(""Clock Out"");
                }
                else {
                    button.removeClass(""btn-danger"");
                    button.addClass(""btn-warning"");
                    button.val(""Clock In"");
                }
            });
        }

        $(""#username"").focusout(getUserTitle);

        var resetScreen = function () {

            //Reset user title state.
            $('#userTitle').html('');

            //reset input state.
            $(""#username"").val('');
            $(""#password"").val('');

            //Reset ClockIn button state
            $(""#clockInBtn"").removeClass(""btn-danger"");
            $(""#clockInBtn"").addClass(""btn-warning"");
            $(""#clockInBtn"").val(""Clock In"");

            //Reset modal state.
            $(""#modalTitle"").text('');
            $(""#modalBody"").text('');
            $('#modalContent').removeClass('modal-danger');
            $('#timeEntryTable > tr').each(function () {
   ");
            WriteLiteral(@"             $(this).remove();
            });
            $('#timeEntryTable').hide();

            $('#statusModal').modal('hide');

            //Give main input focus.
            $('#username').focus();
        };

        $('#modalCancelBtn').on('click', function () {
            resetScreen();
            clearTimeout(screenResetTimeout);
        });
        $('#modalCloseBtn').on('click', function () {
            resetScreen();
            clearTimeout(screenResetTimeout);
        });
        //Change to ajax request instead of form switching.
        //This will allow us to check the response and update the UI
        $(""#clockInBtn"").click(function () {
            $.ajax({
                url: '");
            EndContext();
            BeginContext(6969, 29, false);
#line 171 "C:\Users\Andrew\source\repos\TimeClock_Core\TimeClock_Core\Views\Home\Index.cshtml"
                 Write(Url.Action("ClockIn", "Home"));

#line default
#line hidden
            EndContext();
            BeginContext(6998, 2149, true);
            WriteLiteral(@"',
                data: {
                    username: $(""#username"").val(),
                    password: $(""#password"").val()
                },
                type: ""POST"",
                context: document.getElementById(""statusModal"")
            }).done(function (data) {
                $('#modalTitle').text(""Notification"");
                $('#modalBody').text(data.message.trim());

                if (data.success !== undefined && data.success === true) {
                    $('#modalContent').addClass('modal-success');

                    var table = $('#timeEntryBody');
                    var customHtml = """";
                    for (var i = 0; i < data.timeEntries.length; i++) {
                        customHtml += '<tr> <td>';
                        customHtml += data.timeEntries[i].timeIn;
                        customHtml += '</td>';

                        if (data.timeEntries[i].timeOut != '12:00:00 AM') {
                            customHtml += '<td>';
      ");
            WriteLiteral(@"                      customHtml += data.timeEntries[i].timeOut;
                            customHtml += '</td>';
                        }
                        else {
                            customHtml += '<td style=""color:red;"">missing</td>';
                        }
                        customHtml += '</tr>';
                    }
                    table.after(customHtml);

                    $('#timeEntryTable').show();
                    screenResetTimeout = setTimeout(resetScreen, 5000);
                }
                else {
                    $('#modalContent').addClass('modal-danger');
                }
                $(this).modal('show');
            });
            //$(""#form"").attr(""action"", ""/Home/ClockIn"");
            //return true;
        });

        //Remove this as it will be unnecessary.
        //$(""#loginBtn"").click(function () {
        //    $(""#form"").attr(""action"", ""/Account/Login"");
        //    return true;
        //});

        ");
            WriteLiteral("$(\'#loginBtn\').click(function () {\r\n            $(\'#form\').submit();\r\n        });\r\n    });\r\n</script>");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<LoginForm> Html { get; private set; }
    }
}
#pragma warning restore 1591
